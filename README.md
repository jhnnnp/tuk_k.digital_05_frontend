# TIBO - 지능형 유아 보호 홈캠 시스템

TIBO는 React Native와 Expo를 기반으로 한 **객체 추적 기술을 활용한 지능형 유아 보호 홈캠 시스템**입니다. 기존 홈캠의 정적인 시야 한계를 극복하고, 유아의 움직임을 지속적으로 추적하여 능동적이고 안전한 보호 환경을 제공합니다.

## 🎯 프로젝트 목표

### 기존 홈캠의 한계 극복
- **정적 시야 의존**: 유아가 화면에서 벗어나면 추적 불가
- **즉각적 대응 부족**: 위험 상황에 대한 지연된 대응
- **수동적 모니터링**: 보호자의 지속적인 주의 필요

### TIBO의 혁신적 해결책
- **객체 추적 기술**: 유아를 능동적으로 추적
- **실시간 위험 감지**: 일정 범위 벗어날 경우 즉시 알림
- **지능형 보호 시스템**: 자동화된 안전 모니터링

## 🚀 주요 기능

### 📱 모바일 앱 (React Native + Expo)
- **실시간 라이브 스트림** - 유아 활동 실시간 모니터링
- **지능형 객체 추적** - 유아 움직임 지속적 추적
- **위험 상황 감지** - 위험 구역 접근 시 즉시 알림
- **경계 설정 모니터링** - 안전 구역 벗어남 감지
- **수면 상태 모니터링** - 유아 수면 패턴 분석
- **활동량 추적** - 과도한 활동 감지 및 기록
- **반응형 UI** - 다양한 화면 크기에 최적화된 레이아웃
- **다크모드 지원** - 테마 시스템을 통한 다크모드 전환

### 🎮 제어 기능
- **녹화 토글** - 녹화 버튼으로 시작/중지, REC 오버레이 표시
- **음성 토글** - 마이크 버튼으로 음성 활성화/비활성화, MIC 오버레이 표시
- **즉시 액션** - 캡처, 줌인/아웃 버튼의 즉시 피드백
- **조이스틱 제어** - 이동모드 ON 시 조이스틱으로 로봇 이동 제어
- **상태 공유 시스템** - 모든 화면 간 실시간 상태 동기화

### 🛡️ 유아 보호 특화 기능

#### **1. 위험 감지 (Danger) - ⚠️**
- **목적**: 유아가 위험 구역에 접근할 때
- **예시**: 주방, 계단, 전기 콘센트 근처
- **우선순위**: 높음 (High)
- **자동 대응**: 즉시 알림 및 녹화 시작

#### **2. 경계 모니터링 (Boundary) - 🚫**
- **목적**: 설정된 안전 경계를 벗어날 때
- **예시**: 지정된 놀이 구역을 벗어남
- **우선순위**: 중간 (Medium)
- **자동 대응**: 경계 이탈 알림

#### **3. 움직임 분석 (Movement) - 👶**
- **목적**: 비정상적인 움직임 패턴 감지
- **예시**: 갑작스러운 움직임, 넘어짐
- **우선순위**: 낮음 (Low)
- **분석**: AI 기반 움직임 패턴 분석

#### **4. 수면 모니터링 (Sleep) - 😴**
- **목적**: 수면 상태 변화 감지
- **예시**: 깨어남, 자세 변화, 수면 질 모니터링
- **우선순위**: 낮음 (Low)
- **기능**: 수면 패턴 분석 및 기록

#### **5. 활동량 추적 (Activity) - 🏃**
- **목적**: 높은 활동량이나 특정 행동 감지
- **예시**: 과도한 활동, 특정 행동 패턴
- **우선순위**: 중간 (Medium)
- **분석**: 활동량 통계 및 패턴 분석

#### **6. 수동 기록 (Manual) - 👤**
- **목적**: 보호자가 직접 녹화
- **예시**: 특별한 상황 기록
- **우선순위**: 낮음 (Low)
- **기능**: 사용자 정의 녹화

## 🛠️ 기술 스택

### Frontend
- **React Native** - 크로스 플랫폼 모바일 개발
- **Expo** - 개발 환경 및 빌드 도구
- **TypeScript** - 타입 안전 개발
- **React Navigation** - 네비게이션 관리
- **Styled Components** - 스타일링

### 상태 관리
- **LiveStreamService** - 실시간 스트림 상태 관리
- **구독 패턴** - 상태 변경 시 모든 화면 동기화
- **중앙 집중식 관리** - 모든 기능의 통합 제어

### Backend (계획)
- **Node.js** - 서버 런타임
- **Express** - 웹 프레임워크
- **WebSocket** - 실시간 통신
- **MySQL** - 데이터베이스
- **AI/ML** - 객체 추적 및 패턴 분석

## 📦 설치

```bash
# 저장소 클론
git clone https://github.com/jhnnnp/tuk_k.digital_frontend.git
cd tuk_k.digital_frontend

# 의존성 설치
npm install

# Expo CLI 설치 (전역)
npm install -g @expo/cli
```

## 🔧 환경 설정

### 개발 환경
- Node.js 16+ 
- npm 또는 yarn
- Expo CLI
- iOS Simulator 또는 Android Emulator

### 환경 변수
`.env` 파일 생성 (필요시):

```env
EXPO_PUBLIC_API_URL=http://localhost:3000
EXPO_PUBLIC_WS_URL=ws://localhost:3000
```

## 🚀 실행

```bash
# 개발 서버 시작
npx expo start

# iOS 시뮬레이터에서 실행
npx expo start --ios

# Android 에뮬레이터에서 실행
npx expo start --android

# 웹에서 실행
npx expo start --web
```

## 📱 앱 구조

```
src/
├── components/          # 재사용 가능한 UI 컴포넌트
│   ├── atoms/          # 기본 컴포넌트 (Button, Card, Joystick 등)
│   ├── layout/         # 레이아웃 컴포넌트
│   └── organisms/      # 복합 컴포넌트
├── pages/              # 화면 컴포넌트
│   ├── HomeScreen.tsx  # 홈 화면 (상태 모니터링)
│   ├── LiveScreen.tsx  # 라이브 스트림 화면 (제어)
│   ├── RecordingsScreen.tsx  # 보호 기록 화면
│   └── SettingsScreen.tsx    # 설정 화면
├── services/           # API 서비스
│   ├── LiveStreamService.ts  # 실시간 스트림 상태 관리
│   ├── CameraService.ts      # 카메라 제어 서비스
│   └── EventService.ts       # 이벤트 관리 서비스
├── styles/            # 테마 및 스타일
├── types/             # TypeScript 타입 정의
└── utils/             # 유틸리티 함수
```

## 🎯 주요 화면

### 🏠 홈 화면 (HomeScreen)
- **로봇 상태 모니터링**: 온라인/오프라인, 이동 중 상태
- **실시간 비디오 피드**: 16:9 비율의 라이브 스트림
- **시스템 상태**: 배터리, WiFi
- **상태 인디케이터**: LIVE, REC, MIC 실시간 표시

### 🎥 라이브 화면 (LiveScreen)
- **고화질 스트림**: HD 1080p 실시간 비디오
- **로봇 이동 제어**: 조이스틱을 통한 방향 제어
- **액션 버튼**: 녹화, 캡처, 줌인/아웃, 음성 제어
- **이동모드 토글**: ON/OFF 스위치로 이동 제어
- **상태 동기화**: HomeScreen과 실시간 상태 공유

### 📋 보호 기록 화면 (RecordingsScreen)
- **유아 보호 특화 카테고리**:
  - ⚠️ **위험**: 위험 구역 접근 감지
  - 🚫 **경계**: 안전 경계 이탈 감지
  - 👶 **움직임**: 비정상 움직임 패턴 분석
  - 😴 **수면**: 수면 상태 변화 모니터링
  - 🏃 **활동**: 높은 활동량 감지
  - 👤 **수동**: 사용자 직접 녹화
- **심각도 시스템**: High/Medium/Low 우선순위
- **날짜별 필터링**: 특정 날짜의 보호 활동 조회
- **상세 정보**: 각 기록의 구체적인 상황 설명

### ⚙️ 설정 화면 (SettingsScreen)
- **내 정보**: 프로필, 구독 정보, 2단계 인증
- **알림 및 감지**: 푸시 알림, 움직임 감지, 얼굴 인식, 무음 시간
- **녹화 및 저장**: 자동 녹화, 화질 설정, 데이터 보관, 클라우드 동기화
- **환경설정**: 네트워크 설정
- **지원**: 고객 지원, 앱 정보
- **계정 관리**: 로그아웃

## 🔄 개발 워크플로우

1. **기능 개발**
   ```bash
   # 새 브랜치 생성
   git checkout -b feature/new-feature
   
   # 개발 및 테스트
   npx expo start
   
   # 커밋
   git add .
   git commit -m "새 기능 추가"
   ```

2. **빌드 및 배포**
   ```bash
   # 프로덕션 빌드
   npx expo build:android
   npx expo build:ios
   
   # EAS Build (클라우드)
   npx eas build --platform all
   ```

## 🎯 시스템 특징

### 🛡️ 유아 보호 특화
- **객체 추적**: 유아의 움직임을 지속적으로 추적
- **위험 감지**: 위험 구역 접근 시 즉시 알림
- **경계 설정**: 안전 구역을 벗어날 경우 알림
- **수면 모니터링**: 수면 상태 변화 감지
- **활동량 분석**: 과도한 활동 감지 및 기록

### 🤖 지능형 기능
- **자동 추적**: 유아가 화면에서 벗어나도 추적 가능
- **실시간 알림**: 위험 상황 즉각 대응
- **스마트 녹화**: 상황별 자동 녹화
- **상태 공유**: 모든 화면 간 실시간 동기화
- **AI 분석**: 움직임 패턴 및 행동 분석

### 📱 사용자 경험
- **직관적 UI**: 한눈에 파악 가능한 상태 표시
- **원클릭 제어**: 복잡한 설정 없이 간편 조작
- **실시간 피드백**: 모든 액션에 즉시 반응
- **안전 중심**: 유아 보호에 최적화된 기능

## 🚀 향후 계획

### Phase 1: 기본 기능 완성 ✅
- [x] 실시간 스트림 시스템
- [x] 로봇 제어 기능
- [x] 유아 보호 카테고리 시스템
- [x] 상태 공유 시스템

### Phase 2: AI 기능 강화 🔄
- [ ] 객체 추적 AI 모델 통합
- [ ] 행동 패턴 분석
- [ ] 위험 상황 예측
- [ ] 개인화된 보호 설정


**TIBO** - 유아를 위한 지능형 보호 시스템 🏠👶🛡️

